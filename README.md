# ë¦¬ì–¼íƒ€ì„ê³¼ì œ(í´ë¼ì´ì–¸íŠ¸ì™€ ì„œë²„ í†µì‹ í•˜ê¸°)
## 5ï¸âƒ£ ì¼ì¼í€˜ìŠ¤íŠ¸

<aside>
âœ”ï¸

### **í•„ìˆ˜ ê¸°ëŠ¥ *(1~5ì¼ì°¨)***

1ì¼ì°¨ **í”„ë¡œì íŠ¸ ìƒì„± ë° ì´ë²¤íŠ¸ ë³„ ì½”ë“œ ì²˜ë¦¬**

- [âœ”ï¸]  í”„ë¡œì íŠ¸ ì‹œì‘
- [âœ”ï¸]  ì†Œì¼“ ì´ë²¤íŠ¸ í™•ì¸
- [âœ”ï¸]  ê¸°ëŠ¥ë³„ í´ë”, íŒŒì¼ ë¶„ë¦¬
- [âœ”ï¸]  í—¤ë” ë° **íŒ¨í‚· êµ¬ì¡° ì„¤ê³„**

2ì¼ì°¨ **í™˜ê²½ë³€ìˆ˜ ë° ìƒìˆ˜, ì—ëŸ¬ ì²˜ë¦¬**

- [âœ”ï¸]  í—¤ë” ë° **íŒ¨í‚· êµ¬ì¡° ì„¤ê³„**
- [âœ”ï¸]  ìƒìˆ˜ ì„ ì–¸ ë° í™˜ê²½ ë³€ìˆ˜ ì„¸íŒ…

3ì¼ì°¨ **í”„ë¡œí† ì½œ ë²„í¼ ì ìš© ë° íŒ¨í‚· íŒŒì‹±**

- [âœ”ï¸]  í”„ë¡œí† ì½œ ë²„í¼ ì ìš©
- [âœ”ï¸]  íŒ¨í‚· íŒŒì‹± í…ŒìŠ¤íŠ¸

4ì¼ì°¨ **ìœ ì € ì„¸ì…˜ ë° ê²Œì„ ì„¸ì…˜ ê´€ë¦¬**

- [âœ”ï¸]  ìœ ì €, ê²Œì„ í´ë˜ìŠ¤ ì„ ì–¸
- [âœ”ï¸]  ì ‘ì† ì‹œ ìƒì„± ì´ë²¤íŠ¸
- [âœ”ï¸]  ì„¸ì…˜ ê´€ë¦¬ ë¡œì§ ì¶”ê°€

5ì¼ì°¨ **ì ‘ì† ë° ì´ë™ íŒ¨í‚· êµí™˜**

- [âœ”ï¸]  ì ‘ì† íŒ¨í‚· ì¶”ê°€ ë° íŒŒì‹± í…ŒìŠ¤íŠ¸
- [âœ”ï¸]  í´ë¼ì´ì–¸íŠ¸ ì ‘ì† í…ŒìŠ¤íŠ¸
- [âœ”ï¸]  ì´ë™ íŒ¨í‚· ì¶”ê°€ ë° íŒŒì‹± í…ŒìŠ¤íŠ¸
- [âœ”ï¸]  ë©€í‹°í”Œë ˆì´ì–´ ì´ë™ í…ŒìŠ¤íŠ¸
</aside>

-----------------------------------------------

<aside>
ğŸ†

### **ë„ì „ ê¸°ëŠ¥ *(6~10ì¼ì°¨)***

6ì¼ì°¨ **DB ì—°ë™**

- [âœ”ï¸]  DB ì„¸íŒ… ë° (ìœ ì € ì •ë³´) ë°ì´í„° ëª¨ë¸ë§
- [âœ”ï¸]  (ì„œë²„) ì ‘ì† ë° ì ‘ì† í•´ì œ ì‹œ ìœ ì € ì •ë³´ ê¸°ë¡

7ì¼ì°¨ **DB ì—°ë™(ì§„í–‰ ì˜ˆì •)**

- [âœ”ï¸]  (í´ë¼ì´ì–¸íŠ¸) ì½”ë“œ í™•ì¸ ë° ìˆ˜ì •

8ì¼ì°¨ **ë ˆì´í„´ì‹œ ë§¤ë‹ˆì €, ì¶”ì¸¡í•­ë²• ì ìš© - ì„œë²„(ì§„í–‰ ì˜ˆì •)**

- [ ]  ê²Œì„ ì„¸ì…˜ ë³„ ë ˆì´í„´ì‹œ ë§¤ë‹ˆì € ì¶”ê°€
- [ ]  (ì„œë²„) ì¶”ì¸¡í•­ë²• ê³„ì‚° ë° ì ìš©

9ì¼ì°¨ **í•‘ ì²´í¬ - í´ë¼ì´ì–¸íŠ¸(ì§„í–‰ ì˜ˆì •)**

- [ ]  (í´ë¼ì´ì–¸íŠ¸) ping ì „ì†¡ ë¡œì§ ì¶”ê°€
- [ ]  (í´ë¼, ì„œë²„) ping í…ŒìŠ¤íŠ¸

10ì¼ì°¨ **ìµœì¢… í™•ì¸ ë° í…ŒìŠ¤íŠ¸**

- [ ]  í…ŒìŠ¤íŠ¸
</aside>

-----------------------------------------------

### ë””ë ‰í† ë¦¬ êµ¬ì¡°

```
.
â””â”€â”€ src
â”œâ”€â”€ classes/models // ì¸ìŠ¤í„´ìŠ¤ class ë“¤ì„ ì •ì˜
â”‚   â”œâ”€â”€ managers
â”‚   â””â”€â”€ models
â”œâ”€â”€ config // í™˜ê²½ë³€ìˆ˜, DB ì„¤ì •ë“±ì„ ì„ ì–¸
â”œâ”€â”€ constants // ìƒìˆ˜ ê´€ë¦¬
â”œâ”€â”€ DB // db ë¡œì§ ê´€ë¦¬
â”‚   â”œâ”€â”€ migrations
â”‚   â”œâ”€â”€ sql
â”‚   â””â”€â”€ user
â”œâ”€â”€ events // socket ì´ë²¤íŠ¸
â”œâ”€â”€ handlers // í•¸ë“¤ëŸ¬ ê´€ë¦¬
â”‚   â”œâ”€â”€ game
â”‚   â””â”€â”€ user
â”œâ”€â”€ init // ì„œë²„ ì´ˆê¸°í™”
â”œâ”€â”€ protobuf // íŒ¨í‚· êµ¬ì¡°
â”‚   â”œâ”€â”€ notification
â”‚   â”œâ”€â”€ request
â”‚   â””â”€â”€ response
â”œâ”€â”€ sessions // ì„¸ì…˜ ê´€ë¦¬
â””â”€â”€ utils // ê·¸ ì™¸ í•„ìš”í•œ í•¨ìˆ˜ë“¤ ì„ ì–¸
â”œâ”€â”€ db
â”œâ”€â”€ notification
â”œâ”€â”€ parser
â””â”€â”€ response
â”œâ”€â”€ clients
â”œâ”€â”€ package-lock.json
â”œâ”€â”€ package.json
â”œâ”€â”€ readme.md
```

### í´ë¼ì´ì–¸íŠ¸ íŒ¨í‚· êµ¬ì¡°

#### Common

    [ProtoContract]
    public class CommonPacket
    {
    [ProtoMember(1)]
    public uint handlerId { get; set; }

        [ProtoMember(2)]
        public string userId { get; set; }

        [ProtoMember(3)]
        public string version { get; set; }
    
        [ProtoMember(4)]
        public byte[] payload { get; set; }

    }

#### InitialPayload
    [ProtoContract]
    public class InitialPayload
    {
    [ProtoMember(1, IsRequired = true)]
    public string deviceId { get; set; }

        [ProtoMember(2, IsRequired = true)]
        public uint playerId { get; set; }

        [ProtoMember(3, IsRequired = true)]
        public float latency { get; set; }

}

#### LocationUpdatePayload
    [ProtoContract]
    public class LocationUpdatePayload {
    [ProtoMember(1, IsRequired = true)]
    public float x { get; set; }
    [ProtoMember(2, IsRequired = true)]
    public float y { get; set; }
    }

#### LocationUpdate
    [ProtoContract]
    public class LocationUpdate
    {
    [ProtoMember(1)]
    public List UserLocation users { get; set; }

        [ProtoContract]
        public class UserLocation
        {
            [ProtoMember(1)]
            public string id { get; set; }

            [ProtoMember(2)]
            public uint playerId { get; set; }

            [ProtoMember(3)]
            public float x { get; set; }

            [ProtoMember(4)]
            public float y { get; set; }
    }

}

#### Response

    [ProtoContract]
    public class Response {
    [ProtoMember(1)]
    public uint handlerId { get; set; }

        [ProtoMember(2)]
        public uint responseCode { get; set; }

        [ProtoMember(3)]
        public long timestamp { get; set; }

        [ProtoMember(4)]
        public byte[] data { get; set; }

    }

#### íŒ¨í‚· íƒ€ì…
    public enum PacketType { Ping, Normal, Location = 3 }

#### í•¸ë“¤ëŸ¬ ì•„ì´ë””
    public enum HandlerIds {
    Init = 0,
    LocationUpdate = 2
    }
